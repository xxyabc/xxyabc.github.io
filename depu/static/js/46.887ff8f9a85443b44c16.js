webpackJsonp([46],{qie0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("NYxO");var o={name:"userManagement",data:function(){return{tableData:[],desc:"",gameId:"",dialogEdit:!1,Loading:!1,formLabelWidth:"50px",labelPosition:"right"}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;this.Loading=!0,this.$request.getTopGame().then(function(t){200==t.code?(console.log(t),e.tableData=t.result,e.Loading=!1):(e.Loading=!1,e.$message({showClose:!0,message:"未获取到数据！",type:"warning",duration:3e3}))}).catch(function(t){e.Loading=!1,e.$message({showClose:!0,message:"服务器出错哦！",type:"error",duration:3e3})})},edit:function(e){console.log(e),this.desc=e.desc,this.gameId=e.gameId,this.dialogEdit=!0},editDialogConfirm:function(){var e=this;this.$request.editTopGame({gameId:this.gameId,desc:this.desc}).then(function(t){console.log(t),200==t.code&&t.result?(e.$message({type:"success",message:"操作成功!"}),e.dialogEdit=!1,e.getData()):e.$message({type:"waring",message:"操作失败!"})}).catch(function(t){e.$message({type:"waring",message:"操作失败!"})})},unTopGame:function(e){var t=this;this.$confirm("您确定要取消该场对战的置顶么?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$request.unTopGame(e.gameId).then(function(e){console.log(e),200==e.code?(t.$message({type:"success",message:"操作成功!"}),t.getData()):t.$message({type:"waring",message:"操作失败!"})}).catch(function(e){t.$message({type:"waring",message:"操作失败!"})})}).catch(function(){})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.Loading,expression:"Loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"userManagement",attrs:{id:"userManagement","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("fei-bread",[e._v("精彩对战管理")]),e._v(" "),a("el-card",[a("el-table",{staticClass:"tableCon",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","header-cell-style":{backgroundColor:"#F3F3F3",color:"#000"}}},[a("el-table-column",{attrs:{prop:"roomName",label:"房间名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roomNum",label:"房间号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createUserName",label:"房主","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"描述信息","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"action",label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.edit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.unTopGame(t.row)}}},[e._v("取消置顶")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[a("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[e._v("编辑信息")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}},[a("template",{slot:"prepend"},[e._v("描述：")])],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.editDialogConfirm}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(o,n,!1,function(e){a("trUa")},"data-v-58622cb2",null);t.default=s.exports},trUa:function(e,t){}});