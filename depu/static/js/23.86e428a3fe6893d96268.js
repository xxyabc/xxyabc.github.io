webpackJsonp([23],{cMoA:function(e,t,a){"use strict";var s={name:"news",props:["type","newList","total","showImg","showAuthor","showViews","showContent"],data:function(){return{currentPage:1,pageSize:10}},created:function(){console.log(this.newList)},methods:{handleSizeChange:function(e){console.log(e),this.pageSize=e,this.currentPage=1,this.$emit("SizeChange",e)},handleCurrentChange:function(e){console.log(e),this.currentPage=e,this.$emit("pageChange",e)},getDetail:function(e){this.$emit("serchDetail",e)},participant:function(e){this.$emit("participant",e)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"news-box"},[a("ul",{staticClass:"news-list"},e._l(e.newList,function(t){return a("li",{key:t.articleId},[a("div",{on:{click:function(a){return e.getDetail(t.id)}}},[e.showImg?a("el-image",{staticClass:"coverImg",attrs:{src:e.$global.baseUrl2+t.thumbnail,alt:""}}):e._e()],1),e._v(" "),a("p",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showContent,expression:"showContent"}],staticClass:"content",style:{height:"news"==e.type?"0.85rem":"0.55rem"}},[e._v(e._s(t.summary))]),e._v(" "),"competition"!==e.type?a("div",{staticClass:"foot"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.showAuthor,expression:"showAuthor"}],staticClass:"date"},[e._v(e._s(t.authorName))]),e._v(" "),a("span",{staticClass:"date"},[a("i",{staticClass:"el-icon-date"}),e._v("\n          "+e._s(t.createDate)+"\n        ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showViews,expression:"showViews"}],staticClass:"view"},[a("i",{staticClass:"el-icon-view"}),e._v("\n          "+e._s(t.views)+"\n        ")]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:"download"==e.type,expression:"type == 'download'"}],staticClass:"download-btn el-button btn el-button--primary el-button--medium",attrs:{href:t.resourceUrl?e.$global.baseUrl2+t.resourceUrl:"javascript:;",target:"_blank"}},[e._v(e._s(e.$gettext("下载")))]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:"download"==e.type&&t.resourcePdfUrl,expression:"type == 'download' && item.resourcePdfUrl"}],staticClass:"pdf-btn el-button btn el-button--warning el-button--medium",attrs:{href:t.resourcePdfUrl?e.$global.baseUrl2+t.resourcePdfUrl:"javascript:;",target:"_blank"}},[e._v(e._s(e.$gettext("预览")))])]):a("div",{staticClass:"foot-com"},[a("p",{staticClass:"start"},[a("i",{staticClass:"el-icon-alarm-clock"}),e._v("\n          "+e._s(e.$gettext("活动开始："))+e._s(t.startDate)+"\n        ")]),e._v(" "),a("div",[a("p",{staticClass:"end"},[a("i",{staticClass:"el-icon-alarm-clock"}),e._v("\n            "+e._s(e.$gettext("报名截止："))+e._s(t.deadline)+"\n          ")]),e._v(" "),a("p",{staticClass:"operation"},[a("span",[e._v(e._s(e.$gettext("已报名"))+e._s(t.participantedCount)+e._s(e.$gettext("人")))]),e._v(" "),t.participantCount>t.participantedCount?a("el-button",{staticClass:"btn",attrs:{size:"medium",disabled:new Date(t.deadline).getTime()<(new Date).getTime()||t.participanted,type:Number((new Date).getTime())>Number(new Date(t.deadline).getTime())?"info":"success"},on:{click:function(a){return e.participant(t.id)}}},[e._v(e._s(t.participanted?e.$gettext("已报名"):Number((new Date).getTime())>Number(new Date(t.deadline).getTime())?e.$gettext("报名已截止"):e.$gettext("我要报名")))]):a("el-button",{staticClass:"btn",attrs:{type:"warning",size:"medium",disabled:!0}},[e._v(e._s(e.$gettext("报名人数已满")))])],1)])])])}),0),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"","current-page":e.currentPage,"page-sizes":[1,10,30,50],"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var i=a("VU/8")(s,n,!1,function(e){a("joim")},"data-v-4e28c08e",null);t.a=i.exports},gelK:function(e,t){},"i+0I":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"news",components:{NewList:a("cMoA").a},data:function(){return{newList:[],currentPage:1,pageSize:10,total:0}},created:function(){this.serchNeswList()},methods:{goDetial:function(e){this.$router.push({name:"newsDetail",query:{id:e}})},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.serchNeswList()},handleCurrentChange:function(e){this.currentPage=e,this.serchNeswList()},serchNeswList:function(){var e=this;this.$request.serchNews({pageNum:this.currentPage,pageSize:this.pageSize}).then(function(t){console.log(t);var a=t.data.result.content;a.forEach(function(e){e.createDate=e.createDate.split(" ")[0],e.id=e.articleId}),e.newList=a,e.total=t.data.result.totalSize})}}},n={render:function(){var e=this.$createElement;return(this._self._c||e)("NewList",{attrs:{type:"news",newList:this.newList,total:this.total,showImg:!0,showAuthor:!1,showContent:!0,showViews:!0},on:{SizeChange:this.handleSizeChange,pageChange:this.handleCurrentChange,serchDetail:this.goDetial}})},staticRenderFns:[]};var i=a("VU/8")(s,n,!1,function(e){a("gelK")},"data-v-6df0015f",null);t.default=i.exports},joim:function(e,t){}});