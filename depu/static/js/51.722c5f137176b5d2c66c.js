webpackJsonp([51],{pTPS:function(t,e){},ve75:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"history",data:function(){return{page:1,dataList:[],showMore:!1,downloadHref:"",loading:!0,nowlang:""}},created:function(){this.getList(),this.nowlang=window.sessionStorage.getItem("lang")||"cn"},methods:{goDetail:function(t,e){var s=1;e>4&&(s=parseInt(e/4)+1),this.$router.push({name:"playback",query:{id:t,page:s,type:"history"}})},getList:function(){var t=this;this.loading=!0,this.$request.myHistory({pageNum:this.page,pageSize:10}).then(function(e){console.log(e),t.loading=!1,200==e.data.code?(e.data.result.content.forEach(function(s){s.itemHistories.forEach(function(e){e.userId==t.$store.state.userInfo.uid&&(e.winMoney>0?s.win=1:0==e.winMoney?s.win=0:s.win=-1)}),t.dataList.push(s),e.data.result.totalPages>e.data.result.pageNum?t.showMore=!0:t.showMore=!1}),t.downloadHref=t.$global.baseUrl2+"/game/export/"+t.page+"/"+10*t.page+"?userId="+t.$store.state.userInfo.uid):t.$message.error(e.data.msg)}).catch(function(e){t.loading=!1,t.$message.error(t.$gettext("请求超时！请稍后重试"))})},more:function(){this.page++,this.getList()}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"history",attrs:{id:"history"}},[s("div",{staticClass:"breadNav"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v(t._s(t.$gettext("首页2")))]),t._v(" "),s("el-breadcrumb-item",{attrs:{to:{path:"/onlinePlay"}}},[t._v(t._s(t.$gettext("在线对抗")))]),t._v(" "),s("el-breadcrumb-item",[t._v(t._s(t.$gettext("历史战绩")))])],1)],1),t._v(" "),s("div",{class:"cn"==t.nowlang?"table-box":"table-box-en"},[s("p",{staticClass:"goback",on:{click:function(e){return t.$router.push({name:"onlinePlay"})}}},[t._v(t._s(t.$gettext("返回")))]),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.$gettext("导出本页数据"),placement:"right"}},[s("a",{staticClass:"download",attrs:{href:t.downloadHref}},[t._v(t._s(t.$gettext("导出")))])]),t._v(" "),s("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],class:t.$store.state.isPhone?"table":"table test-1"},[t.dataList.length?t._e():s("li",{staticClass:"empty"},[t._v(t._s(t.$gettext("暂无数据")))]),t._v(" "),t._l(t.dataList,function(e,a){return s("li",{key:e.roundId},[s("p",{staticClass:"title"},[s("span",[t._v(t._s(t.$gettext("第"))+t._s(a+1)+t._s(t.$gettext("局")))]),t._v(" "),s("span",[t._v(t._s(t.$gettext("房间号"))+"："+t._s(e.roomNum))]),t._v(" "),s("span",[t._v(t._s(t.$gettext("房间名称"))+"："+t._s(e.roomName))]),t._v(" "),s("span",[t._v(t._s(t.$common.getDate(e.createDate)))]),t._v(" "),s("span",{class:"cn"==t.nowlang?"btn":"btn-en",on:{click:function(s){return t.goDetail(e.roundId,a+1)}}})]),t._v(" "),s("p",{staticClass:"detail"},[s("span",{staticClass:"type"},[s("span",{style:{color:e.win>0?"#52A63A":"#E22222","font-size":"0.22rem"}},[t._v(t._s(e.win?e.win>0?t.$gettext("胜利"):t.$gettext("失败"):t.$gettext("平局")))])]),t._v(" "),s("ul",{staticClass:"player"},t._l(e.itemHistories,function(e){return s("li",{key:e.userId},[s("p",[s("span",{class:e.userId==t.$store.state.userInfo.uid?"my-money":"player-money"},[t._v(t._s(e.userId==t.$store.state.userInfo.uid?t.$gettext("我"):e.nickName))])]),t._v(" "),s("p",{class:e.userId==t.$store.state.userInfo.uid?"my-money":"player-money"},[t._v(t._s(e.winMoney))])])}),0)])])})],2),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"serchMore",on:{click:t.more}},[t._v(t._s(t.$gettext("查看更多")))])],1)])},staticRenderFns:[]};var o=s("VU/8")(a,n,!1,function(t){s("pTPS")},"data-v-29c8403a",null);e.default=o.exports}});