webpackJsonp([28],{Mfsf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),i=a("NYxO"),r=a("1oBE"),o=(Object(r.a)(),{data:function(){return{tableData:[],tag:!1,pageInfo:{pageNum:1,pageSize:10},totalSize:10,currentPage4:1,bathDelArr:[],rules:{title:[{required:!0,message:"请输入赛事标题",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],deadline:[{required:!0,message:"请选择报名截止日期",trigger:"change"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"change"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"change"}],roomPlayerCount:[{required:!0,message:"请至少选择一个房间人数",trigger:"change"}],participantedCount:[{required:!0,message:"请输入可报名人数",trigger:"blur"}],thumbnail:[{required:!0,message:"请选择封面图片",trigger:"blur"}],top:[{required:!0,message:"请选择是否置顶",trigger:"change"}],summary:[{required:!0,message:"请填写赛事描述",trigger:"blur"}],content:[{required:!0,message:"请填写赛事内容",trigger:"blur"}]},input:""}},mounted:function(){console.log(111),console.log(this.activityId,"我是从vuex中获取的activityId"),this.getData()},computed:s()({},Object(i.c)(["rowInfo","activityId"])),methods:{getMyTime:function(e){return e.getFullYear()+"-"+(e.getMonth()<10?"0"+e.getMonth():e.getMonth())+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())+".000"},getData:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.Loading=!0,this.$request.activitySerchPlayer({keyWords:this.input,pageNum:this.pageInfo.pageNum,pageSize:this.pageInfo.pageSize,activityId:this.activityId}).then(function(t){console.log(t,"表格数据"),200==t.code?(e.tableData=t.result.content,e.totalSize=t.result.totalSize,e.pageInfo.pageNum=t.result.pageNum,e.Loading=!1):(e.Loading=!1,e.$message({showClose:!0,message:"未获取到数据！",type:"warning",duration:3e3}))}).catch(function(t){e.Loading=!1,e.$message({showClose:!0,message:"服务器出错哦！",type:"error",duration:3e3})})},backPeonyPage:function(){this.$router.push({name:"competitionAnnouncement"})},handleDetail:function(e,t){this.$router.push({name:"lookMatchReport",params:{roomId:t.roomId,name:t.name,num:t.num,playerCount:t.playerCount,botCount:t.botCount}})},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该赛事信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$request.delMatch({id:t.roomId}).then(function(e){200==e.code?(a.$message({type:"success",message:"删除成功!"}),a.getData()):a.$message({type:"error",message:"删除失败!"})}).catch(function(e){a.$message({type:"error",message:"删除失败!"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageInfo.pageSize=e,this.tag||(this.input=""),this.getData()},handleCurrentChange:function(e){console.log("当前页: "+e),this.pageInfo.pageNum=e,this.tag||(this.input=""),this.getData()},bathDel:function(){var e=this;this.$confirm("此操作将永久删除该批量对战记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$request.bachDelMatch(e.bathDelArr).then(function(t){200==t.code?(e.$message({type:"success",message:"删除成功!"}),e.getData()):e.$message({type:"error",message:"删除失败!"})}).catch(function(t){e.$message({type:"error",message:"删除失败!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},searchByKeywords:function(){this.pageInfo.pageNum=1,this.tag=!0,this.getData()},search:function(){this.tag=!1}}}),c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addAnnouncement",attrs:{id:"addAnnouncement"}},[a("fei-bread",[e._v("\n    赛事公告\n    "),a("i",{staticClass:"el-icon-d-arrow-right"}),e._v(" "),a("span",{staticClass:"current-text"},[e._v("报名用户")])]),e._v(" "),a("el-card",[a("div",{staticClass:"tool"},[a("div",{staticClass:"tool-left"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-back"},on:{click:e.backPeonyPage}},[e._v("返回上一级")])],1),e._v(" "),a("div",{staticClass:"tool-right"},[a("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{placeholder:"请输入关键字进行搜索",clearable:""},on:{input:e.search},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-aim"},on:{click:e.searchByKeywords}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{staticClass:"tableCon",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","header-cell-style":{backgroundColor:"#F3F3F3",color:"#000"}}},[a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{label:"报名时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createDate.split(".")[0]))]}}])})],1),e._v(" "),a("div",{staticClass:"paginationBlock"},[a("el-pagination",{attrs:{"current-page":this.pageInfo.pageNum,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var g=a("VU/8")(o,c,!1,function(e){a("VGN4"),a("tkL1")},"data-v-afe904f4",null);t.default=g.exports},VGN4:function(e,t){},tkL1:function(e,t){}});